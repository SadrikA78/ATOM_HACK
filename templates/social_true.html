{% extends 'base.html' %}
{% block title %}Говорит город{% endblock %}
{% block content %}
  <script>
window.onload = function () {

var chart = new CanvasJS.Chart("chartContainer", {
	animationEnabled: true,
	title:{
		text: "Тональность сообщений",
		horizontalAlign: "left"
	},
	data: [{
		type: "doughnut",
		startAngle: 60,
		//innerRadius: 60,
		indexLabelFontSize: 17,
		indexLabel: "{label} - #percent%",
		toolTipContent: "<b>{label}:</b> {y} (#percent%)",
		dataPoints: [
			{ y: Math.random(), label: "Нейтральные" },
			{ y: 60, label: "Негативные" },
			{ y: 7, label: "Позитивные" }
		]
	}]
});
chart.render();

}
</script>

  <div class="content-wrapper">
    <div class="container-fluid">
	<div id="chartContainer" style="height: 370px; width: 100%;"></div>
<script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
      <div class="row">
	  <div class="col-lg-12">
          <!-- Example Notifications Card-->
          <div class="card mb-3">
            <div class="card-header">
              <i class="fa fa-bell-o"></i> Отзывы горожан</div>
            <div class="list-group list-group-flush small">
              <div id="message-box">
                {% for post in posts %}
                <a class="list-group-item list-group-item-action" href="#">
                  <div class="media">
                    <!-- <img class="d-flex mr-3 rounded-circle" src="http://placehold.it/45x45" alt=""> -->
                    <div class="media-body">
					
                      <strong>{{ post.author.username }} </strong>{{ post.body }}
                     
                      <div class="text-muted smaller">{{ post.date }}</div>
					
					</div>
                  </div>
                </a>
				{% endfor %}
                
              </div>
              
            </div>
            <div class="card-footer small text-muted">Updated yesterday at 11:59 PM</div>
          </div>
        </div>
      </div>
	  </div>
      </div>
        


<div class="row">
        <div class="col-md-12">
          <div class="box">
            <div class="box-header with-border">
              <h3 class="box-title">Подробная информация</h3>
              <div class="box-tools pull-right">
                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
                </button>
                <div class="btn-group">
                  <button type="button" class="btn btn-box-tool dropdown-toggle" data-toggle="dropdown">
                    <i class="fa fa-wrench"></i></button>
                  <ul class="dropdown-menu" role="menu">
                    <li><a href="#">Action</a></li>
                    <li><a href="#">Another action</a></li>
                    <li><a href="#">Something else here</a></li>
                    <li class="divider"></li>
                    <li><a href="#">Separated link</a></li>
                  </ul>
                </div>
                <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
              </div>
            </div>
            <!-- /.box-header -->
            <div class="box-body">
              <div class="row">
                
				<div class="card mb-3">
        <div class="card-header">
          
        <div class="card-body">
          <div class="table-responsive">
            <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
              <thead>
                <tr>
                  <th>Имя</th>
                  <th>Текст</th>
                  <th>Дата публикации</th>
                  <th>Язык</th>
                  <th>Подписчики</th>
                  <th>Статусы</th>
                </tr>
              </thead>
              <tbody id="customer-table">
			  {% for post in posts %}
                <tr>
                  <td>{{ post.author.username }}</td>
                  <td>{{ post.body }}</td>
                  <td>{{ post.date }}</td>
                  <td>{{ post.lang }}</td>
                  <td>{{ post.count }}</td>
                  <td>{{ post.status }}</td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </div>
        <div class="card-footer small text-muted">Updated yesterday at 11:59 PM</div>
      </div>
				
              <!-- /.row -->
            </div>
			</div>
			</div>
			</div>
			</div>
			</div>
			
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <!-- Page level plugin JavaScript-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.1/Chart.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.16/js/dataTables.bootstrap4.min.js"></script>
    <script src="https://js.pusher.com/4.0/pusher.min.js"></script>

    <script src="{{ url_for('static', filename='js/customer.js') }}"></script>
    <script src="{{ url_for('static', filename='js/order.js') }}"></script>
    <script src="{{ url_for('static', filename='js/message.js') }}"></script>
  

{% endblock %}
